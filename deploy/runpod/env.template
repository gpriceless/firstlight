# =============================================================================
# FirstLight RunPod Environment Template
# =============================================================================
# Copy this file to .env and fill in your values before running setup_pod.sh
#
#   cp deploy/runpod/env.template .env
#   nano .env
#
# All values without defaults MUST be set before starting services.
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
FIRSTLIGHT_ENVIRONMENT=production
FIRSTLIGHT_DEBUG=false
FIRSTLIGHT_LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Database (PostGIS)
# -----------------------------------------------------------------------------
# Host is localhost when running bare-metal via setup_pod.sh
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=firstlight
DATABASE_USER=firstlight

# REQUIRED: Set a strong password
DATABASE_PASSWORD=

# Connection pool settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# Convenience URL (used by some tools; mirrors the above fields)
# DATABASE_URL=postgresql://firstlight:<password>@localhost:5432/firstlight

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# REQUIRED: Set a strong password
REDIS_PASSWORD=

# Convenience URL (mirrors the above fields)
# REDIS_URL=redis://:<password>@localhost:6379/0

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# REQUIRED: Generate a strong random secret (e.g. openssl rand -hex 32)
AUTH_SECRET_KEY=

AUTH_ALGORITHM=HS256
AUTH_ACCESS_TOKEN_EXPIRE_MINUTES=60

# Comma-separated list of valid API keys for demo access
# e.g. AUTH_ALLOWED_API_KEYS=key-abc123,key-xyz789
AUTH_ALLOWED_API_KEYS=

# -----------------------------------------------------------------------------
# State Backend
# -----------------------------------------------------------------------------
# Use postgis for production (full feature set)
# Options: sqlite | postgis | dual
FIRSTLIGHT_STATE_BACKEND=postgis

# -----------------------------------------------------------------------------
# API Server
# -----------------------------------------------------------------------------
FIRSTLIGHT_HOST=0.0.0.0
FIRSTLIGHT_PORT=8000
FIRSTLIGHT_WORKERS=2

# Set to true to expose Swagger UI at /api/docs
# (leave debug=false in production to disable docs)
# Override: FIRSTLIGHT_DEBUG=true

# CORS - allow all origins for demo; restrict in production
CORS_ALLOW_ORIGINS=*

# -----------------------------------------------------------------------------
# Storage
# -----------------------------------------------------------------------------
STORAGE_BACKEND=local
STORAGE_LOCAL_PATH=/workspace/firstlight-data/products

# -----------------------------------------------------------------------------
# External Data Sources (optional for demo)
# -----------------------------------------------------------------------------
# Planetary Computer SAS token (for cloud-native satellite imagery)
# PLANETARY_COMPUTER_API_KEY=

# ERA5 / Copernicus Climate API key (for weather data)
# ERA5_API_KEY=

# -----------------------------------------------------------------------------
# Demo / MAIA
# -----------------------------------------------------------------------------
# Demo API key to share with MAIA for testing
# Add to AUTH_ALLOWED_API_KEYS above
DEMO_API_KEY=
